# 프토로콜와 OSI 7 layer

### 1. 네트워크의 기능
- 어플리케이션 목적에 맞는 통신 방법 제공 (어플리케이션 사이에서 필요한 기능)
- 신뢰할 수 있는 데이터 전송 방법 제공 (어플리케이션 사이에서 어떻게 데이터를 안정적으로 전송할지)
- 네트워크 간의 최적의 통신 경로 결정 
- 목적지로 데이터 전송 (어플리케이션이 동작하고 있는 호스트 사이에서 어떻게 실제로 데이터를 목적지로 보낼지)
- 노드 사이의 데이터 전송 (목적지까지 데이터를 보낼 때 여러 노드를 거치는데, 노드와 노드 사이에 어떻게 데이터를 전송할 것인가 ?)

**통신 기능이 제대로 동작하기 위해서는 참여자들 사이에서 약속된 통신 방법이 있어야 한다**

### 2. 네트워크 프로토콜
네트워크 통신을 하기 위해서 통신에 참여하는 주체들이 따라야하는 형식, 절차, 규약
네트워크의 기능들은 네트워크 프로토콜을 통해 동작하게 됨.

#### Q. 네트워크의 모든 기능을 단 하나의 프로토콜로 구현할 수 있을까 ?
없다. 마치 백엔드 어플리케이션을 개발하는 데 어플리케이션의 모든 기능을 하나의 클래스 파일에서 구현하겠다는 것과 같음. 그러면 유지보수, 새로운 기능 추가 다 어려움.

#### 그렇다면 '모듈화' 를 해야함.
#### 각 기능들이 계층별로 동작함. -> layerd architecture -> OSI model (7layer), TCP/IP stack (4 layer)
(어플리케이션 끼리 동작하는 것 같고, 어플리케이션에서 어떻게 안정적으로 보낼지, 실제로 어떻게 보낼지, 노드 사이에서 어떻게 보낼지 ? )

- OSI model : 범용적인 네트워크 구조
- TCP/IP stack : 인터넷에 특화된 네트워크 구조

### 3. OSI 7 layer
 - **application layer (L7)**
	 - 어플리케이션 목적에 맞는 통신 방법 제공
	 - HTTP, DNS, SMTP, FTP 
	 - 어떻게 데이터를 보낼까는 하위 레이어에서 구현, 얘는 그 기능을 사용만 함
 - **presentation layer (L6)**
	 - 어플리케이션 간의 통신에서 메시지 포맷 관리
	 - 인코딩, 디코딩
	 - 암호화, 복호화
	 - 압축, 압축풀기
 - **session layer (L5)**
	 - 어플리케이션 간의 통신에서 세션을 관리
	 - RPC (remote procedure call )
 - **transport layer (L4)**
	 - 어플리케이션 간의 통신 담당
	 - 목적지 어플리케이션으로 데이터 전송
	 - 안정적이고 신뢰할 수 있는 데이터 전송 보장 (TCP)
	 - 필수 기능만 제공 (UDP)
	 - 목적지에 데이터를 전송하기 위해 어떤식의 통신을 할 것인지 결정하는 레이어
 - **network layer (L3)**
	 - 호스트 간의 통신을 담당 (IP)
	 - 목적지 호스트로 데이터 전송
	 - 네트워크 간의 최적의 경로 결정
	 - 전체적인 경로 담당, 각각의 노드 사이에서 어떻게 데이터를 전송할 것인가는 관심사가 아님.
 - **data link layer (L2)**
	 - 직접 연결된 노드 간의 통신 담당
	 - MAC 주소 기반 통신 (ARP) 
		 - ip주소를 mac 주소로 변환해주는 프로토콜
 - **physical layer (L1)**
	 - bits 단위로 데이터 전송

- 각 레이어에 맞게 프로토콜이 세분화돼서 구현
- 각 레이어의 프로토콜은 하위 레이어의 프로토콜이 제공하는 기능을 사용하여 동작 

### 결론 : encapsulation & decapsulation 반복하며 통신한다.

 